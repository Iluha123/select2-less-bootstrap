#gradient {
	.vertical-stopped(@startColor: #555, @startStop: 0%, @endColor: #333, @endStop: 100%) {
		background-color: mix(@startColor, @endColor, 60%);
		background-image: -webkit-gradient(linear, 0 100%, 0 0, from(@startStop @startColor), to(@endStop @endColor));
		background-image: -webkit-linear-gradient(bottom, @startColor @startStop, @endColor @endStop);
		background-image: -moz-linear-gradient(bottom, @startColor @startStop, @endColor @endStop);
		background-image: -o-linear-gradient(@startColor @startStop, @endColor @endStop);
		background-image: linear-gradient(@startColor @startStop, @endColor @endStop);
		background-repeat: no-repeat;
		filter: e(%("progid:DXImageTransform.Microsoft.gradient(startColorstr='%d', endColorstr='%d', GradientType=0)",argb(@startColor),argb(@endColor)));
	}
	.vertical-4stop(@startColor: #555, @startStop: 0%, @stop1Color: #555, @stop1Stop: 33%, @stop2Color: #555, @stop2Stop: 66%, @endColor: #333, @endStop: 100%) {
		background-color: mix(@startColor, @endColor, 60%);
		background-image: -webkit-gradient(linear, 0 0, 0 100%, from(@startStop @startColor), color-stop(@stop1Stop @stop1Color), color-stop(@stop2Stop @stop2Color), to(@endStop @endColor));
		background-image: -webkit-linear-gradient(top, @startColor @startStop, @stop1Color @stop1Stop, @stop2Color @stop2Stop, @endColor @endStop);
		background-image: -moz-linear-gradient(top, @startColor @startStop, @stop1Color @stop1Stop, @stop2Color @stop2Stop, @endColor @endStop);
		background-image: -o-linear-gradient(@startColor @startStop, @stop1Color @stop1Stop, @stop2Color @stop2Stop, @endColor @endStop);
		background-image: linear-gradient(@startColor @startStop, @stop1Color @stop1Stop, @stop2Color @stop2Stop, @endColor @endStop);
		background-repeat: no-repeat;
		filter: e(%("progid:DXImageTransform.Microsoft.gradient(startColorstr='%d', endColorstr='%d', GradientType=0)",argb(@startColor),argb(@endColor)));
	}
}

.select2 {
	&-container {
		position: relative;
		display: inline-block;
		/* inline-block for ie7 */
		zoom: 1;
		*display: inline;
		vertical-align: top;
		.select2-choice {
			display: block;
			overflow: hidden;
			white-space: nowrap;
			position: relative;
			padding-left: 8px;
			span {
				margin-right: 26px;
				display: block;
				overflow: hidden;
				white-space: nowrap;
				-o-text-overflow: ellipsis;
				-ms-text-overflow: ellipsis;
				text-overflow: ellipsis;
				text-align: left;
			}
			div {
				.border-radius(0 4px 4px 0);
				#gradient > .vertical(#eee, #ccc);
				border-left: 1px solid #aaa;
				position: absolute;
				right: 0;
				top: 0;
				height: 100%;
				width: 0;
				padding: 4px 12px 0px 4px;
				&:hover {
					cursor: pointer;
				}
			}
		}
		.select2-drop-above .select2-choice {
			border-bottom-color: #aaa;
			.border-radius(0px 0px 4px 4px);
			#gradient > .vertical-stopped(#eee, 0%, #fff, 90%);
		}
		.select2-container-disabled .select2-choice {
			background-color: #f4f4f4;
			background-image: none;
			border: 1px solid #ddd;
			cursor: default;
			div {
				background-color: #f4f4f4;
				background-image: none;
				border-left: 0;
			}
		}
		&-multi {
			.select2-choices {
				#gradient > .vertical-stopped(#eee, 1%, #fff, 15%);
				border: 1px solid #aaa;
				margin: 0;
				padding: 0;
				cursor: text;
				overflow: hidden;
				height: auto !important;
				height: 1%;
				position: relative;
				min-height: 26px;
				li {
					float: left;
					list-style: none;
				}
				.select2-search {
					&-field {
						white-space: nowrap;
						margin: 0;
						padding: 0;
						input {
							color: #666;
							background: transparent !important;
							font-family: sans-serif;
							font-size: 100%;
							height: 15px;
							padding: 5px;
							margin: 1px 0;
							outline: 0;
							border: 0;
							.box-shadow(none);
							.select2-active { background: #fff !important; }
						}
					}
					&-choice {
						.border-radius(3px);
						.background-clip(padding-box);
						#gradient > .vertical-4stop(#f4f4f4, 20%, #f0f0f0, 50%, #e8e8e8, 52%, #eeeeee, 100%);
						.box-shadow(0 0 2px #ffffff inset, 0 1px 0 rgba(0,0,0,0.05));
						color: #333;
						border: 1px solid #aaaaaa;
						line-height: 13px;
						padding: 3px 5px 3px 18px;
						margin: 3px 0 3px 5px;
						position: relative;
						cursor: default;
						span { cursor: default; }
						&-focus {
							background: #d4d4d4;
							.select2-search-choice-close {
								background-position: right -11px;
							}
						}
						&-close {
							left: 3px;
							&:hover { background-position: right -11px; }
						}
					}
				}
			}
			.select2-container {
				&-active .select2-choices {
					.box-shadow(0 0 5px rgba(0,0,0,.3));
					border: 1px solid #5897fb;
					outline: none;
				}
				&-disabled .select2-choices {
					background-color: #f4f4f4;
					background-image: none;
					border: 1px solid #ddd;
					cursor: default;
					.select2-search-choice {
						background-image: none;
						background-color: #f4f4f4;
						border: 1px solid #ddd;
						padding: 3px 5px;
						.select2-search-choice-close { display: none; }
					}
				}
			}
		}
		&-active {
			.select2-choice,
			.select2-choices {
				border: 1px solid #5897fb;
				outline: none;
				.box-shadow(0 0 5px rgba(0,0,0,.3));
			}
		}
	}
	&-drop {
		background: #fff;
		color: #000;
		border: 1px solid #aaa;
		border-top: 0;
		position: absolute;
		top: 100%;
		.box-shadow(0 4px 5px rgba(0,0,0,.15));
		z-index: 9999;
		width:100%;
		margin-top:-1px;
		.border-radius(0 0 4px 4px);
		.select2-drop-above {
			.border-radius(4px 4px 0px 0px);
			margin-top:1px;
			border-top: 1px solid #aaa;
			border-bottom: 0;
			.box-shadow(0 -4px 5px rgba(0, 0, 0, .15));
			.select2-search input { margin-top:4px; }
		}
		&down-open .select2-choice {
			border: 1px solid #aaa;
			border-bottom-color: transparent;
			.box-shadow(0 1px 0 #fff inset);
			#gradient > .vertical-stopped(#fff, 0%, #eee, 50%);
			.border-bottom-left-radius(0);
			.border-bottom-right-radius(0);
			div {
				background: transparent;
				border-left: none;
				.caret {
				    border-top: 0;
				    border-bottom: 4px solid @black;
				    content: "";
				}
			}
		}
	}
	&-search {
		white-space: nowrap;
		z-index: 10000;
		width: 100%;
		padding: 4px;
		input {
			width: 70%;
		}
		span.add-on {
			padding: 5px 4px 1px 4px;
		}
		&-hidden {
			display: block;
			position: absolute;
			left: -10000px;
		}
		&-choice-close {
			display: block;
			position: absolute;
			right: 3px;
			top: 4px;
			width: 12px;
			height: 13px;
			font-size: 1px;
			outline: none;
		}
	}
	&-default {
		color: #999 !important;
	}
	&-more-results {
		background: #f4f4f4;
		display: list-item;
		.select2-active { background: #f4f4f4; }
	}
	&-results {
		margin: 4px 2px 4px 0;
		padding: 0 0 0 4px;
		overflow-x: hidden;
		overflow-y: auto;
		max-height: 200px;
		ul.select2-result-sub {
			margin: 0;
			> li .select2-result-label { padding-left: 20px }
			ul {
				> li .select2-result-label { padding-left: 40px }
				ul {
					> li .select2-result-label { padding-left: 60px }
					ul {
						> li .select2-result-label { padding-left: 80px }
						ul {
							> li .select2-result-label { padding-left: 100px }
							ul {
								> li .select2-result-label { padding-left: 110px }
								ul > li .select2-result-label { padding-left: 120px }
							}
						}
					}
				}
			}
		}
		li {
			list-style: none;
			em {
				background: #feffde;
				font-style: normal;
			}
			&:hover,
			&:focus {
			  text-decoration: none;
			  color: @dropdownLinkColorHover;
			  background-color: @dropdownLinkBackgroundHover;
			  #gradient > .vertical(@dropdownLinkBackgroundHover, darken(@dropdownLinkBackgroundHover, 5%));
			}
			.select2-result-with-children > .select2-result-label { font-weight: bold; }
		}
		.select2 {
			&-no-results,
			&-searching,
			&-selection-limit {
				background: #f4f4f4;
				display: list-item;
			}
			&-result-label {
				padding: 3px 7px 4px;
				margin: 0;
				cursor: pointer;
			}
			&-disabled { display: none; }
		}
	}
	&-result {
		&-selectable .select2-match,
		&-unselectable {
			.select2-match { text-decoration: none; }
			.select2-result-selectable .select2-match { text-decoration: underline; }
		}
	}
	&-offscreen {
		position: absolute;
		left: -10000px;
	}
}
